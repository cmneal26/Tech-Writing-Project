<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kids</title>
    <meta name="description" content="go back to creative writing school.">
    <meta name="generator" content="Eleventy v1.0.1">

    <link rel="stylesheet" href="/Tech-Writing-Project/css/index.css">
    <link rel="stylesheet" href="/Tech-Writing-Project/css/prism-base16-monokai.dark.css">
    <link rel="stylesheet" href="/Tech-Writing-Project/css/prism-diff.css">
    <link rel="alternate" href="/Tech-Writing-Project/feed/feed.xml" type="application/atom+xml" title="Free Free API Education">
    <link rel="alternate" href="/Tech-Writing-Project/feed/feed.json" type="application/json" title="Free Free API Education">
  </head>
  <body>
    <header>
      <h1 class="home"><a href="/Tech-Writing-Project/">Free Free API Education</a></h1>
      <ul class="nav">
        <li class="nav-item"><a href="/Tech-Writing-Project/">Home</a></li>
        <li class="nav-item"><a href="/Tech-Writing-Project/api/api-reference/">Transparency</a></li>
        <li class="nav-item"><a href="/Tech-Writing-Project/browser-fetching/">Fetch</a></li>
        <li class="nav-item"><a href="/Tech-Writing-Project/our-mission/">Our Mission</a></li>
        <li class="nav-item nav-item-active"><a href="/Tech-Writing-Project/kids/">Kids</a></li>
        <li class="nav-item"><a href="/Tech-Writing-Project/testing/">Experiment-Graphing</a></li>
        <li class="nav-item"><a href="/Tech-Writing-Project/another-education-module/">Another-Education-Module</a></li>
        <li class="nav-item"><a href="/Tech-Writing-Project/our-methodology/">Our Methodology</a></li>
      </ul>
    </header>

    <main class="tmpl-kids">
      
<div id="game">
    <script>
        // game data
        const IN_PROGRESS = 'in progress'
        const TIE = 'tie'
        const WIN = 'win'

        const DEFAULT_GAME_STATE = {
          board: "---------",
          playerTurn: 'O', // human player is always O, goes first
          playing: false,
          winner: null,
          opponent: { // update this later using selectRandomOpponent()
            name: "Shirkhan"
          }
        }

        // functions to set DOM
        const clearCells = () => {
              const cellIds = ['0', '1', '2', '3', '4', '5', '6', '7', '8']
              cellIds.forEach(cellId => {
                const cell = document.getElementById(cellId)
                cell.innerText = ''
              })
        }
        const setSnakeBackground = (squareId) => {
            // assign the html elements such that squareId = the element ID
            const snakeSquare = document.getElementById(squareId)
            snakeSquare.className = "snake"
        }

        const setMongooseBackground = (squareId) => {
            // assign the html elements such that squareId = the element ID
            const mongooseSquare = document.getElementById(squareId)
            mongooseSquare.className = "mongoose"
        }
        // functions to handle the non-visual game play elements

String.prototype.replaceAt = function(index, replacement) {
  return this.substring(0, index) + replacement + this.substring(index + replacement.length);
}

function getRandomInt(max) {
  // HELP; use the internet!
  // returns random int with maximum value of max
  // your code goes here
}

const getEmptySquares = (board) => {
  // HELP!
  // use for dumb TTT opponent; return array of empty square indexes
  const emptySquares = []
  // your code goes here
  return emptySquares
}
const selectRandomOpponent = () => {
  // random opponent array of objects; lives in this function 
  // return a random opponent from that array 
}
const setOpponent = (opponent) => {
  // update game state with new opponent
  // update visual box to right of TTT game with opponent data, including power level  
}

const getDumbOpponentMove = (gameState) => { 
  // HELP ME! use getEmptySquares!  
  // your code goes here
  return emptySquares[randomChoice]
}

const resetGameState = (gameState, newGameState) => {
  gameState.board = newGameState.board
  gameState.playerTurn = newGameState.playerTurn
  gameState.playing = newGameState.playing
  gameState.winner = newGameState.winner
  gameState.opponent = newGameState.opponent
}

function move(gameState, squareIndex) {
  gameState.board = gameState.board.replaceAt(squareIndex, gameState.playerTurn);
}

const setPlayerTurn = (gameState, player) => {
  if (player) {
    gameState.playerTurn = player
  } else {
    gameState.playerTurn = gameState.playerTurn === 'X' ? 'O' : 'X'
  }
}

const checkGameStatus = (board) => {
  // top row
  if (
    board.charAt(0) !== '-' &&
    (board.charAt(0) === board.charAt(1)) &&
    (board.charAt(1) === board.charAt(2))
  ) {
    return WIN
  }
  // middle row
  if (
    board.charAt(3) !== '-' &&
    (board.charAt(3) === board.charAt(4)) &&
    (board.charAt(4) === board.charAt(5))
  ) {
    return WIN
  }
  // right row
  if (
    board.charAt(6) !== '-' &&
    (board.charAt(6) === board.charAt(7)) &&
    (board.charAt(7) === board.charAt(8))
  ) {
    return WIN
  }
  // left col
  if (
    board.charAt(0) !== '-' &&
    (board.charAt(0) === board.charAt(3)) &&
    (board.charAt(3) === board.charAt(6))
  ) {
    return WIN
  }
  // middle col
  if (
    board.charAt(1) !== '-' &&
    (board.charAt(1) === board.charAt(4)) &&
    (board.charAt(4) === board.charAt(7))
  ) {
    return WIN
  }
  // right col
  if (
    board.charAt(6) !== '-' &&
    (board.charAt(6) === board.charAt(7)) &&
    (board.charAt(7) === board.charAt(8))
  ) {
    return WIN
  }
  // left-top-start diagonal
  if (
    board.charAt(6) !== '-' &&
    (board.charAt(6) === board.charAt(7)) &&
    (board.charAt(7) === board.charAt(8))
  ) {
    return WIN
  }
  // right-top-start diagonal
  if (
    board.charAt(6) !== '-' &&
    (board.charAt(6) === board.charAt(7)) &&
    (board.charAt(7) === board.charAt(8))
  ) {
    return WIN
  }

  if (getEmptySquares(board).length !== 0) {
    return IN_PROGRESS
  } else { // 
    return TIE
  }

}


const play = () => {
  let playerTurns = 0
  const gameState = {}
  let gameStatus;
  console.log("now playing TTT")
  resetGameState(gameState, DEFAULT_GAME_STATE)
  gameState.playing = true

  while (gameState.playing) {
    playerTurns += 1
    const turnMove = getDumbOpponentMove(gameState)
    move(gameState, turnMove)
    gameStatus = checkGameStatus(gameState.board)
    if (gameStatus !== IN_PROGRESS) {
      break;
    }
    // change player turn
    setPlayerTurn(gameState)
  }

  console.log("play done, game state:", gameState)

  if (gameStatus === WIN) {
    console.info(`\n${gameState.playerTurn} wins`)
    gameState.winner = true
  } else {
    console.info("The Game is a tie!")
  }

  gameState.playing = false
}

</script>
    <div id="game-section">
        <table id="board">
            <tr class="row">
                <td class="cell mongoose" id="0" onclick="clickCell('0')"></td>
                <td class="cell snake" id="1" onclick="clickCell('1')"></td>
                <td class="cell mongoose" id="2" onclick="clickCell('2')"></td>
            </tr>
            <tr class="row">
                <td class="cell snake" id="3" onclick="clickCell('3')"></td>
                <td class="cell mongoose" id="4" onclick="clickCell('4')"></td>
                <td class="cell mongoose" id="5" onclick="clickCell('5')"></td>
            </tr>
            <tr class="row">
                <td class="cell snake" id="6" onclick="clickCell('6')"></td>
                <td class="cell snake" id="7" onclick="clickCell('7')"></td>
                <td class="cell snake" id="8" onclick="clickCell('8')"></td>
            </tr>
        </table>
        <span>
            <button id="play-button" onclick="">
                Play TTT
            </button>
        </span>
        <p id="game-state-message">Press the 'Play' button And Click a square</p>
    </div>
    </main>

    <footer></footer>

    <!-- Current page: /Tech-Writing-Project/kids/ -->
  </body>
</html>
