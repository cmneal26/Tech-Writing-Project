<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Experiment-Graphing</title>
    <meta name="description" content="go back to creative writing school.">
    <meta name="generator" content="Eleventy v1.0.1">
    <link rel="stylesheet" href="/Tech-Writing-Project/css/index.css">
    <link rel="stylesheet" href="/Tech-Writing-Project/css/prism-base16-monokai.dark.css">
    <link rel="stylesheet" href="/Tech-Writing-Project/css/prism-diff.css">
    <link rel="alternate" href="/Tech-Writing-Project/feed/feed.xml" type="application/atom+xml" title="Free Free API Education">
    <link rel="alternate" href="/Tech-Writing-Project/feed/feed.json" type="application/json" title="Free Free API Education">
  </head>
  <body>
    <header>
      <h1 class="home">
        <a href="/Tech-Writing-Project/">Free Free API Education</a>
      </h1>
      <ul class="nav">
          <li class="nav-item">
            <a href="/Tech-Writing-Project/">Home</a>
          </li>
          <li class="nav-item">
            <a href="/Tech-Writing-Project/posts/">Archive</a>
          </li>
          <li class="nav-item">
            <a href="/Tech-Writing-Project/api/api-reference/">Transparency</a>
          </li>
          <li class="nav-item">
            <a href="/Tech-Writing-Project/our-mission/">Our Mission</a>
          </li>
          <li class="nav-item">
            <a href="/Tech-Writing-Project/kids/">Kids</a>
          </li>
          <li class="nav-item">
            <a href="/Tech-Writing-Project/another-education-module/">Another-Education-Module</a>
          </li>
          <li class="nav-item nav-item-active">
            <a href="/Tech-Writing-Project/testing/">Experiment-Graphing</a>
          </li>
      </ul>
    </header>
    <main  class="tmpl-experiment-graphing.njk" >
      
<script id="analyte-interaction">

const state = { searchedName: null }

const clearAnalyteTable = () => {

  console.log("clearAnalyteTable()")

  const tableDiv = document.getElementById('analyte-search-output')
  if (tableDiv) {
     tableDiv.innerHTML = ""
     searchedName = null 
  }
}

const createAnalyteHtmlTable = (analyteTableData) => {
  
  console.log("createAnalyteHtmlTable()")
    
  return `<table id="analyte-table">
         
         <th id="analyte-table-header">${analyteTableData.metadata.tableHeaderName}</th>

         <tr class="analyte-data-row" id="analyte-row1">
           <td class="analyte-data-col" id="analyte-row1-col1">${analyteTableData.row1[0]}</td>
           <td class="analyte-data-col" id="analyte-row1-col2">${analyteTableData.row1[1]}</td>
         </tr>

          <tr class="analyte-data-row" id="analyte-row2">
             <td class="analyte-data-col" id="analyte-row2-col1">${analyteTableData.row2[0]}</td>
             <td class="analyte-data-col" id="analyte-row2-col2">${analyteTableData.row2[1]}</td>
          </tr>

          <tr class="analyte-data-row" id="analyte-row3">
             <td class="analyte-data-col" id="analyte-row3-col1">${analyteTableData.row3[0]}</td>
             <td class="analyte-data-col" id="analyte-row3-col2">${analyteTableData.row3[1]}</td>
          </tr>

          <tr class="analyte-data-row" id="analyte-row4">
             <td class="analyte-data-col" id="analyte-row4-col1">${analyteTableData.row4[0]}</td>
             <td class="analyte-data-col" id="analyte-row4-col2">${analyteTableData.row4[1]}</td>
          </tr>
            
        </table>`
}

const getAnalyte = (analytes, analyteName) => {
   const analyteKeys = Object.keys(analytes)
   let analyte;
   for (key of analyteKeys) {
   
     analyte = analytes[key]

     if (analyteName === analyte.name) {
     
       return analyte
     
     } 

   }

   return analytes["firstAnalyte"] // no match for input box search term
   
}

const setAnalyteTable = (dataStringified) => {
  console.log("setAnalyteTable()")

  const outputDiv = document.getElementById('analyte-search-output')
  const searchedAnalyteName = outputDiv ? outputDiv.value : null

  if (searchedAnalyteName === null || searchedAnalyteName === "") {
    // no analyte name typed in HTML <input /> box: do nothing onclick
    return false
  }

  const data = getAnalyte(JSON.parse(dataStringified.data))   
  state.searchedName = searchedAnalyteName
  outputDiv.innerHTML = createAnalyteHtmlTable(data.firstAnalyte, metadata.tableHeaderName)
  return true
}

</script>

<h1>This is a Temporary Page Used To test some stuff.</h1>

<main id="content-pane">

  <span id="analyte-component">  
    
    <input type="input" id="retrieve-analyte-input" />
          
    <button id="retrieve-analyte" onclick="setAnalyteTable(JSON.stringify([object Object]))">Retrieve Analyte</button>
    <button id="clear-analyte" onclick="clearAnalyteTable()">Clear Analyte</button>

    <div id="analyte-search-output"></div>

  </span>


</main>

<h3 id="testing-injecting-data-and-graphing-that-data." tabindex="-1">Testing injecting data and graphing that data. <a class="direct-link" href="#testing-injecting-data-and-graphing-that-data." aria-hidden="true">#</a></h3>

    </main>
    <footer></footer>
    <!-- Current page: /Tech-Writing-Project/testing/ -->
  </body>
</html>